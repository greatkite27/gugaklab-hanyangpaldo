<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>국악LAB 한양팔도 - VIDEOS</title>

  <link rel="stylesheet" href="common.css" />
  <script src="layout.js" defer></script>

  <style>
    /* HERO */
    .videos-hero {
      padding-top: 3rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid rgba(255,255,255,0.14);
    }

    .videos-hero .kicker {
      margin-bottom: 0.4rem;
    }

    .videos-hero h2 {
      font-size: 2rem;
      letter-spacing: 0.08em;
      margin-bottom: 0.9rem;
    }

    .videos-hero .lead {
      max-width: 42rem;
    }

    /* FILTER BAR */
    .video-filters {
      margin-top: 2rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
    }

    .video-filter-btn {
      padding: 0.4rem 0.9rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.28);
      background: transparent;
      color: #ddd;
      font-size: 0.85rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      cursor: pointer;
      transition: background 0.2s, color 0.2s, border-color 0.2s, transform 0.1s;
    }

    .video-filter-btn:hover {
      transform: translateY(-1px);
      background: rgba(255,255,255,0.06);
    }

    .video-filter-btn.active {
      background: #ffffff;
      color: #000;
      border-color: #ffffff;
    }

    /* VIDEO GRID */
    .video-grid-wrap {
      margin-top: 2.5rem;
      margin-bottom: 3rem;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1.6rem;
    }

    .video-card {
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.12);
      background: radial-gradient(circle at top left, rgba(255,255,255,0.04), rgba(0,0,0,0.95));
      overflow: hidden;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      transition: transform 0.18s ease-out, box-shadow 0.18s ease-out, border-color 0.18s ease-out;
    }

    .video-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 14px 32px rgba(0,0,0,0.85);
      border-color: rgba(137,167,255,0.7);
    }

    .video-thumb-wrap {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      overflow: hidden;
    }

    .video-thumb-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transition: transform 0.3s ease, opacity 0.25s ease;
    }

    .video-card:hover .video-thumb-wrap img {
      transform: scale(1.06);
      opacity: 0.9;
    }

    .video-play-icon {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      pointer-events: none;
    }

    .video-play-icon::before {
      content: "";
      width: 54px;
      height: 54px;
      border-radius: 50%;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.85);
      display: block;
      position: relative;
    }

    .video-play-icon::after {
      content: "";
      position: absolute;
      border-style: solid;
      border-width: 10px 0 10px 16px;
      border-color: transparent transparent transparent #ffffff;
      margin-left: 4px;
    }

    .video-card-body {
      padding: 1rem 1.2rem 1.2rem;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .video-tag {
      font-size: 0.75rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #8ba4ff;
    }

    .video-title {
      font-size: 1.05rem;
      margin: 0;
    }

    .video-meta {
      font-size: 0.8rem;
      color: #999999;
    }

    .video-desc {
      font-size: 0.9rem;
      color: #dddddd;
      margin-top: 0.3rem;
      line-height: 1.6;
    }

    @media (max-width: 1024px) {
      .video-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .video-grid {
        grid-template-columns: 1fr;
      }
    }

    /* LIGHTBOX (VIDEO PLAYER) */
    .video-lightbox-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
      z-index: 999;
    }

    .video-lightbox-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    .video-lightbox-inner {
      max-width: 960px;
      width: 90%;
    }

    .video-lightbox-frame-wrap {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%; /* 16:9 */
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.3);
      background: #000;
    }

    .video-lightbox-frame-wrap iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .video-lightbox-caption {
      margin-top: 0.8rem;
      font-size: 0.9rem;
      color: #eeeeee;
    }

    .video-lightbox-close {
      position: absolute;
      top: 1.5rem;
      right: 1.8rem;
      font-size: 1.8rem;
      color: #ffffff;
      cursor: pointer;
      line-height: 1;
    }

    .video-lightbox-close:hover {
      color: #cccccc;
    }

  </style>
</head>
<body>

<header></header>
<nav></nav>

<main>

  <!-- HERO -->
  <section class="section videos-hero">
    <div class="kicker">VIDEOS</div>
    <h2>VIDEOS</h2>
    <p class="lead">
      국악LAB 한양팔도의 공연 실황, 리허설 스케치, 인터뷰 영상 등을 모았습니다.
      무대 위와 무대 뒤의 순간들을 영상으로 만나보세요.
    </p>

    <!-- FILTER BUTTONS -->
    <div class="video-filters">
      <button class="video-filter-btn active" data-filter="all">All</button>
      <button class="video-filter-btn" data-filter="performance">공연 영상</button>
      <button class="video-filter-btn" data-filter="rehearsal">리허설</button>
      <button class="video-filter-btn" data-filter="interview">인터뷰</button>
      <button class="video-filter-btn" data-filter="documentary">기록 영상</button>
    </div>
  </section>

  <!-- VIDEO GRID -->
  <section class="section video-grid-wrap">
    <div class="video-grid">

      <!-- 예시1: 공연 영상 -->
      <article class="video-card"
               data-category="performance"
               data-video-src="https://www.youtube.com/embed/VIDEO_ID_1"
               data-video-title="김세종제 춘향가 완창 : 꺾이지 않는 정절 (하이라이트)">
        <div class="video-thumb-wrap">
          <img src="video-thumb-1.jpg"
               alt="김세종제 춘향가 완창 하이라이트"
               loading="lazy" />
          <div class="video-play-icon"></div>
        </div>
        <div class="video-card-body">
          <div class="video-tag">PERFORMANCE</div>
          <h3 class="video-title">김세종제 춘향가 완창 : 꺾이지 않는 정절 (하이라이트)</h3>
          <div class="video-meta">러닝타임 12분 · 국악LAB 한양팔도</div>
          <p class="video-desc">
            완창 프로젝트의 주요 대목을 모은 하이라이트 영상으로,
            보성소리의 서사와 시나위의 호흡을 함께 느낄 수 있습니다.
          </p>
        </div>
      </article>

      <!-- 예시2: 공연 영상 -->
      <article class="video-card"
               data-category="performance"
               data-video-src="https://www.youtube.com/embed/VIDEO_ID_2"
               data-video-title="시나위 프로젝트 라이브 세션">
        <div class="video-thumb-wrap">
          <img src="video-thumb-2.jpg"
               alt="시나위 프로젝트 라이브 세션"
               loading="lazy" />
          <div class="video-play-icon"></div>
        </div>
        <div class="video-card-body">
          <div class="video-tag">PERFORMANCE</div>
          <h3 class="video-title">시나위 프로젝트 라이브 세션</h3>
          <div class="video-meta">러닝타임 9분 · 타악 · 피리 · 판소리</div>
          <p class="video-desc">
            타악과 피리, 소리가 즉흥적으로 주고받는 시나위 라이브 세션입니다.
            매 공연마다 다른 결을 만들어내는 즉흥의 순간을 담았습니다.
          </p>
        </div>
      </article>

      <!-- 예시3: 리허설 -->
      <article class="video-card"
               data-category="rehearsal"
               data-video-src="https://www.youtube.com/embed/VIDEO_ID_3"
               data-video-title="춘향가 완창 리허설 스케치">
        <div class="video-thumb-wrap">
          <img src="video-thumb-3.jpg"
               alt="춘향가 완창 리허설"
               loading="lazy" />
          <div class="video-play-icon"></div>
        </div>
        <div class="video-card-body">
          <div class="video-tag">REHEARSAL</div>
          <h3 class="video-title">춘향가 완창 리허설 스케치</h3>
          <div class="video-meta">러닝타임 5분 · 리허설 기록</div>
          <p class="video-desc">
            완창 공연을 앞두고 세밀한 호흡을 맞추는 리허설 현장을 담은 영상입니다.
          </p>
        </div>
      </article>

      <!-- 예시4: 인터뷰 -->
      <article class="video-card"
               data-category="interview"
               data-video-src="https://www.youtube.com/embed/VIDEO_ID_4"
               data-video-title="국악LAB 한양팔도 멤버 인터뷰">
        <div class="video-thumb-wrap">
          <img src="video-thumb-4.jpg"
               alt="멤버 인터뷰"
               loading="lazy" />
          <div class="video-play-icon"></div>
        </div>
        <div class="video-card-body">
          <div class="video-tag">INTERVIEW</div>
          <h3 class="video-title">국악LAB 한양팔도 멤버 인터뷰</h3>
          <div class="video-meta">러닝타임 7분 · 인터뷰</div>
          <p class="video-desc">
            각 연주자가 생각하는 전통음악, 그리고 국악LAB 한양팔도가 지향하는 무대에 대한 이야기를 담았습니다.
          </p>
        </div>
      </article>

      <!-- 예시5: 기록 영상 -->
      <article class="video-card"
               data-category="documentary"
               data-video-src="https://www.youtube.com/embed/VIDEO_ID_5"
               data-video-title="현장 스케치 : 무대 뒤의 하루">
        <div class="video-thumb-wrap">
          <img src="video-thumb-5.jpg"
               alt="무대 뒤 현장 스케치"
               loading="lazy" />
          <div class="video-play-icon"></div>
        </div>
        <div class="video-card-body">
          <div class="video-tag">DOCUMENTARY</div>
          <h3 class="video-title">현장 스케치 : 무대 뒤의 하루</h3>
          <div class="video-meta">러닝타임 6분 · 현장 스케치</div>
          <p class="video-desc">
            공연 준비부터 마무리까지, 무대 뒤에서 흘러가는 하루를 따라가는 기록 영상입니다.
          </p>
        </div>
      </article>

      <!-- 예시6: 추가 공연 영상 -->
      <article class="video-card"
               data-category="performance"
               data-video-src="https://www.youtube.com/embed/VIDEO_ID_6"
               data-video-title="팔도 레퍼토리 시리즈 라이브">
        <div class="video-thumb-wrap">
          <img src="video-thumb-6.jpg"
               alt="팔도 레퍼토리 시리즈"
               loading="lazy" />
          <div class="video-play-icon"></div>
        </div>
        <div class="video-card-body">
          <div class="video-tag">PERFORMANCE</div>
          <h3 class="video-title">팔도 레퍼토리 시리즈 라이브</h3>
          <div class="video-meta">러닝타임 11분 · 레퍼토리 시리즈</div>
          <p class="video-desc">
            팔도 전통음악을 테마별로 엮은 레퍼토리 시리즈 중 일부 하이라이트 영상입니다.
          </p>
        </div>
      </article>

    </div>
  </section>

</main>

<!-- VIDEO LIGHTBOX -->
<div class="video-lightbox-overlay" id="videoLightbox">
  <div class="video-lightbox-inner">
    <div class="video-lightbox-frame-wrap">
      <iframe id="videoFrame"
              src=""
              title="국악LAB 한양팔도 영상 재생"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen>
      </iframe>
    </div>
    <div class="video-lightbox-caption" id="videoCaption"></div>
  </div>
  <div class="video-lightbox-close" id="videoLightboxClose">&times;</div>
</div>

<footer class="site-footer"></footer>

<script>
  // FILTERING
  const vFilterButtons = document.querySelectorAll('.video-filter-btn');
  const vCards         = document.querySelectorAll('.video-card');

  vFilterButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const filter = btn.getAttribute('data-filter');

      vFilterButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      vCards.forEach(card => {
        const category = card.getAttribute('data-category');
        if (filter === 'all' || category === filter) {
          card.style.display = 'flex';
        } else {
          card.style.display = 'none';
        }
      });
    });
  });

  // LIGHTBOX (VIDEO PLAYER)
  const videoLightbox      = document.getElementById('videoLightbox');
  const videoFrame         = document.getElementById('videoFrame');
  const videoCaption       = document.getElementById('videoCaption');
  const videoLightboxClose = document.getElementById('videoLightboxClose');

  const openVideo = (src, title) => {
    // autoplay 쿼리 추가 (YouTube 기준)
    const autoSrc = src.includes('?') ? src + '&autoplay=1' : src + '?autoplay=1';
    videoFrame.setAttribute('src', autoSrc);
    videoCaption.textContent = title || '';
    videoLightbox.classList.add('open');
  };

  const closeVideo = () => {
    videoLightbox.classList.remove('open');
    videoFrame.setAttribute('src', '');
    videoCaption.textContent = '';
  };

  vCards.forEach(card => {
    card.addEventListener('click', () => {
      const src   = card.getAttribute('data-video-src');
      const title = card.getAttribute('data-video-title');
      if (src) {
        openVideo(src, title);
      }
    });
  });

  videoLightboxClose.addEventListener('click', closeVideo);

  videoLightbox.addEventListener('click', (e) => {
    if (e.target === videoLightbox) {
      closeVideo();
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && videoLightbox.classList.contains('open')) {
      closeVideo();
    }
  });
</script>

</body>
</html>
